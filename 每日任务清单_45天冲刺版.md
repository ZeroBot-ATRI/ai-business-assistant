# 15-45天极速开发 - 每日任务清单

## 使用说明
- ✅ 完成后打勾
- 🔥 标记为当天最重要任务
- ⚠️ 遇到困难时的应急方案
- 📦 每天的交付物

---

## Week 1: Day 1-7 (基础搭建)

### Day 1 - 项目启动日 🚀

**上午 (4小时)**
- [ ] 🔥 创建项目文件夹结构
  ```bash
  mkdir -p ai-assistant/{app,ui,sops,tests}
  cd ai-assistant
  ```
- [ ] 🔥 创建虚拟环境并安装依赖
  ```bash
  python -m venv venv
  source venv/bin/activate  # Windows: venv\Scripts\activate
  pip install fastapi uvicorn anthropic sqlalchemy streamlit pydantic
  pip freeze > requirements.txt
  ```
- [ ] 申请Claude API Key (https://console.anthropic.com/)
- [ ] 创建 `.env` 文件并配置API密钥
  ```
  CLAUDE_API_KEY=your_key_here
  ```

**下午 (4小时)**
- [ ] 🔥 编写 `app/main.py` 骨架（参考方案文档）
- [ ] 测试FastAPI是否启动成功
  ```bash
  uvicorn app.main:app --reload
  ```
- [ ] 浏览器访问 http://localhost:8000/docs 确认API文档可见
- [ ] 🔥 测试Claude API调用
  ```python
  # test_claude.py
  from anthropic import Anthropic
  client = Anthropic(api_key="your_key")
  response = client.messages.create(
      model="claude-sonnet-4-20250514",
      max_tokens=100,
      messages=[{"role": "user", "content": "Hello"}]
  )
  print(response.content[0].text)
  ```

**晚上 (2小时)**
- [ ] 创建GitHub仓库并推送代码
- [ ] 编写README.md（项目说明）
- [ ] 准备明天的任务清单

**📦 Day 1交付物**: 
- ✅ 项目结构创建
- ✅ 开发环境就绪
- ✅ Claude API测试通过

⚠️ **应急**: 如果Claude API申请慢，先用Mock数据继续

---

### Day 2 - 核心API开发

**上午 (4小时)**
- [ ] 🔥 完善 `app/main.py` 的 `/chat` 接口（200行代码）
- [ ] 实现意图识别逻辑（基于Claude）
- [ ] 测试API接收用户输入并返回响应
  ```bash
  curl -X POST "http://localhost:8000/chat?user_input=你好"
  ```

**下午 (4小时)**
- [ ] 🔥 创建SQLite数据库
- [ ] 编写 `app/models.py`（数据模型）
- [ ] 实现决策日志记录功能
- [ ] 测试数据是否正确写入数据库
  ```python
  import sqlite3
  conn = sqlite3.connect('database.db')
  print(conn.execute("SELECT * FROM ai_decisions").fetchall())
  ```

**晚上 (2小时)**
- [ ] 编写基础的单元测试
- [ ] 提交代码到Git

**📦 Day 2交付物**:
- ✅ `/chat` API完成
- ✅ 数据库创建并测试通过

---

### Day 3 - Streamlit界面开发

**上午 (4小时)**
- [ ] 🔥 创建 `ui/app.py` Streamlit聊天界面（100行代码）
- [ ] 实现基础聊天UI（用户输入框、消息历史）
- [ ] 测试Streamlit启动
  ```bash
  streamlit run ui/app.py
  ```
- [ ] 确认界面能连接到后端API

**下午 (4小时)**
- [ ] 美化界面（添加logo、颜色主题）
- [ ] 添加侧边栏（系统状态、快捷按钮）
- [ ] 🔥 实现调试信息展示（显示AI决策过程）

**晚上 (2小时)**
- [ ] 测试完整对话流程
- [ ] 记录已知问题清单

**📦 Day 3交付物**:
- ✅ 可用的聊天界面
- ✅ 端到端流程打通（UI → API → LLM → 返回）

---

### Day 4 - 第一个真实Skill

**上午 (4小时)**
- [ ] 🔥 创建 `app/skills.py`
- [ ] 实现 `OrderSkill` 类
  - [ ] `get_order()` 方法
  - [ ] 对接内部订单API（如果没有，先Mock数据）
- [ ] 测试订单查询功能
  ```python
  skill = OrderSkill("http://your-api")
  result = skill.get_order("12345")
  print(result)
  ```

**下午 (4小时)**
- [ ] 将Skill注册到Orchestrator
- [ ] 在 `/chat` 接口中集成Skill调用
- [ ] 🔥 测试完整流程：
  ```
  用户: "查询订单12345"
  → AI识别意图
  → 调用get_order技能
  → 返回订单信息
  ```

**晚上 (2小时)**
- [ ] 优化错误处理（API超时、订单不存在等）
- [ ] 提交代码

**📦 Day 4交付物**:
- ✅ 第一个Skill可用
- ✅ 真实业务功能实现

⚠️ **应急**: 内部API对接困难？先用硬编码Mock数据

---

### Day 5 - 第二个Skill

**上午 (4小时)**
- [ ] 🔥 实现 `InventorySkill` 类
  - [ ] `query_inventory()` 方法
- [ ] 对接库存系统API
- [ ] 测试库存查询

**下午 (4小时)**
- [ ] 实现 `NotificationSkill` 类
  - [ ] `send_email()` 方法
  - [ ] 集成邮件服务（SendGrid/阿里云）
- [ ] 🔥 测试邮件发送功能

**晚上 (2小时)**
- [ ] 更新Skill注册逻辑
- [ ] 全量测试2个Skill

**📦 Day 5交付物**:
- ✅ 2个核心Skill完成
- ✅ 邮件通知功能可用

---

### Day 6 - Orchestrator增强

**上午 (4小时)**
- [ ] 🔥 创建 `app/orchestrator.py`
- [ ] 实现 `AIOrchestrator` 类
  - [ ] Skill注册机制
  - [ ] 意图到Skill的映射
- [ ] 重构 `main.py`，使用Orchestrator

**下午 (4小时)**
- [ ] 实现多步骤执行逻辑
- [ ] 🔥 测试复杂场景：
  ```
  用户: "订单12345延迟了，帮我发个道歉邮件"
  → 查询订单（Skill1）
  → 查询物流（Skill2，可Mock）
  → 发送邮件（Skill3）
  ```

**晚上 (2小时)**
- [ ] 优化AI Prompt（提高意图识别准确率）
- [ ] 记录测试案例

**📦 Day 6交付物**:
- ✅ Orchestrator核心逻辑完成
- ✅ 支持多步骤编排

---

### Day 7 - 周总结与调试

**上午 (4小时)**
- [ ] 🔥 端到端全流程测试
  - [ ] 测试10个不同的用户输入
  - [ ] 记录成功/失败案例
- [ ] 修复本周发现的所有P0 Bug

**下午 (4小时)**
- [ ] 性能测试（响应时间是否<3秒）
- [ ] 数据库查询（确认所有决策都已记录）
- [ ] 代码清理（删除注释、格式化）

**晚上 (2小时)**
- [ ] 🔥 准备周一给老板的演示
  - [ ] 录制演示视频（3分钟）
  - [ ] 准备演示脚本
- [ ] 写周报

**📦 Week 1交付物**:
- ✅ 端到端流程跑通
- ✅ 2个真实Skill可用
- ✅ 所有决策记录到数据库

---

## Week 2: Day 8-14 (深化功能)

### Day 8 - 周一演示日

**上午 (2小时)**
- [ ] 🔥 给老板演示（准时！）
- [ ] 记录老板的反馈和新需求

**下午 (4小时)**
- [ ] 根据反馈调整优先级
- [ ] 开始Week 2的开发
- [ ] 完善错误处理逻辑

**晚上 (2小时)**
- [ ] 思考第一条SOP的场景
- [ ] 画出SOP流程图

---

### Day 9-10 - 数据模型优化

**Day 9上午**
- [ ] 优化 `ai_decisions` 表结构
- [ ] 添加索引（提升查询速度）
  ```sql
  CREATE INDEX idx_timestamp ON ai_decisions(timestamp);
  CREATE INDEX idx_user_id ON ai_decisions(user_id);
  ```

**Day 9下午**
- [ ] 🔥 实现基础指标统计API
  ```python
  @app.get("/metrics")
  def get_metrics():
      # 返回今日处理量、成功率等
  ```

**Day 10全天**
- [ ] 实现审计日志查询接口
- [ ] 测试数据查询性能
- [ ] 添加数据导出功能（CSV）

**📦 Day 9-10交付物**:
- ✅ 优化的数据模型
- ✅ 基础metrics API

---

### Day 11-12 - 第一条SOP

**Day 11全天**
- [ ] 🔥 编写 `sops/order_delay.yaml`（订单延迟SOP）
- [ ] 创建 `app/sop_engine.py`
- [ ] 实现SOP加载逻辑
- [ ] 实现SOP执行引擎（简化版）

**Day 12全天**
- [ ] 🔥 实现SOP的step-by-step执行
- [ ] 测试SOP完整流程
  ```bash
  POST /sop/execute
  {
    "sop_id": "order_delay_handler",
    "context": {"order_id": "12345"}
  }
  ```
- [ ] 在UI中添加SOP触发按钮

**📦 Day 11-12交付物**:
- ✅ 第一条SOP可执行
- ✅ SOP引擎基础框架

---

### Day 13-14 - 周末冲刺

**Day 13**
- [ ] 🔥 开发第二条SOP（库存预警）
- [ ] 测试SOP
- [ ] 记录SOP执行日志

**Day 14**
- [ ] 开发第三条SOP（智能退款，简化版）
- [ ] 全面测试3条SOP
- [ ] 🔥 准备Week 3的计划

**📦 Week 2交付物**:
- ✅ 3条SOP开发完成（可能还需优化）
- ✅ SOP引擎可用

---

## Week 3-4: Day 15-28 (看板开发)

### Day 15-17 - 看板后端

**Day 15**
- [ ] 🔥 设计看板数据接口
  ```python
  @app.get("/dashboard/overview")
  @app.get("/dashboard/sop-stats")
  @app.get("/dashboard/recent-logs")
  ```
- [ ] 实现实时指标计算

**Day 16**
- [ ] 实现告警逻辑
  - [ ] 成功率<90% 告警
  - [ ] 响应时间>2s 告警
- [ ] 测试告警触发

**Day 17**
- [ ] 优化数据查询性能
- [ ] 添加缓存机制（简单的内存缓存）

---

### Day 18-21 - 看板前端

**Day 18-19**
- [ ] 🔥 创建 `ui/dashboard.py`
- [ ] 实现核心指标卡片
- [ ] 实现实时刷新（30秒自动刷新）

**Day 20**
- [ ] 🔥 实现趋势图表（Plotly）
  - [ ] 24小时处理量曲线
  - [ ] 意图分布饼图
- [ ] 实现告警面板

**Day 21**
- [ ] 实现SOP执行统计表格
- [ ] 实现最近决策日志展示
- [ ] 美化看板界面

**📦 Day 18-21交付物**:
- ✅ 监控看板V1.0上线
- ✅ 支持实时刷新
- ✅ 异常告警功能

---

### Day 22-25 - SOP完善

**Day 22-23**
- [ ] 优化3条SOP的逻辑
- [ ] 添加错误处理和重试
- [ ] 补充单元测试

**Day 24-25**
- [ ] 🔥 SOP压力测试
- [ ] 修复发现的Bug
- [ ] 更新SOP文档

**📦 Day 22-25交付物**:
- ✅ 3条SOP稳定运行
- ✅ 错误处理完善

---

### Day 26-28 - 测试与部署准备

**Day 26**
- [ ] 🔥 编写E2E测试脚本
- [ ] 运行全部测试
- [ ] 修复关键Bug

**Day 27**
- [ ] 准备部署环境（Railway/Render）
- [ ] 配置环境变量
- [ ] 🔥 首次部署到测试环境

**Day 28**
- [ ] 测试环境验证
- [ ] 准备下周的MVP演示
- [ ] 🔥 周报 + 月度总结

**📦 Week 3-4交付物**:
- ✅ 看板V1.0上线
- ✅ 3条SOP脚本化完成
- ✅ 部署到测试环境

---

## Week 5-6: Day 29-42 (MVP完善)

### Day 29-31 - 用户系统

**Day 29**
- [ ] 🔥 实现JWT认证（`app/auth.py`）
- [ ] 创建测试账号表

**Day 30**
- [ ] 实现登录/登出接口
- [ ] 在UI中添加登录页面

**Day 31**
- [ ] 保护所有核心API（添加认证）
- [ ] 测试权限控制

---

### Day 32-35 - 多轮对话

**Day 32-33**
- [ ] 🔥 实现 `app/session.py` 会话管理
- [ ] 测试会话存储和恢复

**Day 34-35**
- [ ] 在Orchestrator中集成会话上下文
- [ ] 🔥 测试多轮对话
  ```
  用户1: "查询订单12345"
  AI: "订单12345已发货..."
  用户2: "那物流到哪了？"  # 要能理解"那"指12345
  ```

**📦 Day 32-35交付物**:
- ✅ 多轮对话支持
- ✅ 上下文理解能力

---

### Day 36-38 - 重试与容错

**Day 36**
- [ ] 实现重试装饰器（`app/retry.py`）
- [ ] 应用到所有外部API调用

**Day 37**
- [ ] 实现熔断机制
- [ ] 实现降级策略（API失败时的fallback）

**Day 38**
- [ ] 🔥 压力测试（并发100请求）
- [ ] 优化性能瓶颈

---

### Day 39-42 - MVP测试与交付

**Day 39-40**
- [ ] 🔥 完整的E2E测试
- [ ] 修复所有P0/P1 Bug
- [ ] 代码审查和清理

**Day 41**
- [ ] 🔥 编写用户手册（1页纸）
- [ ] 录制使用教程视频（5分钟）
- [ ] 准备测试账号清单

**Day 42**
- [ ] 🔥 正式部署到测试环境
- [ ] 给测试账号发送邀请邮件
- [ ] 收集初步反馈

**📦 Week 5-6交付物**:
- ✅ MVP功能完整
- ✅ 测试账号接入
- ✅ 用户文档就绪

---

## Week 7: Day 43-45 (验收冲刺)

### Day 43 - 验收准备日

**全天**
- [ ] 🔥 准备验收演示PPT
- [ ] 准备演示数据和案例
- [ ] 最后的Bug修复
- [ ] 系统稳定性检查

---

### Day 44 - 预演日

**上午**
- [ ] 🔥 内部预演（模拟验收）
- [ ] 记录预演中的问题

**下午**
- [ ] 修复预演中发现的问题
- [ ] 再次演练

**晚上**
- [ ] 放松，早点休息

---

### Day 45 - 验收日 🎉

**上午**
- [ ] 🔥 正式验收演示
- [ ] 现场解答疑问

**下午**
- [ ] 根据反馈快速修复
- [ ] 庆祝里程碑达成！

**晚上**
- [ ] 总结45天的经验教训
- [ ] 规划下一阶段工作

**📦 Day 45交付物**:
- ✅ MVP通过验收
- ✅ 测试账号运行稳定
- ✅ 监控看板可用
- ✅ 3条核心SOP自动化

---

## 每周固定事项

### 每周一上午 (9:00-10:00)
- [ ] 给老板发送周报
- [ ] 预约本周演示时间

### 每周五下午 (16:00-17:00)
- [ ] 🔥 给老板演示本周进展
- [ ] 获取反馈和下周优先级

### 每周日晚上 (20:00-21:00)
- [ ] 回顾本周完成情况
- [ ] 规划下周详细任务
- [ ] 调整优先级

---

## 应急联系人

**遇到问题时**:
1. **技术问题**: Stack Overflow / GitHub Issues
2. **Claude API**: Anthropic Support (support@anthropic.com)
3. **部署问题**: Railway/Render文档
4. **架构决策**: ChatGPT/Claude辅助思考

**心态调整**:
- 进度落后1-2天：正常，调整即可
- 进度落后3-5天：砍需求，保核心
- 进度落后>5天：立即和老板沟通，申请延期或资源

---

## 每日工作流程建议

### 上午 (9:00-13:00) - 高产出时段
- ✅ 处理最难的编码任务
- ✅ 实现核心功能

### 下午 (14:00-18:00) - 集成与测试
- ✅ 集成上午的代码
- ✅ 编写测试
- ✅ 调试Bug

### 晚上 (20:00-22:00) - 辅助任务
- ✅ 写文档
- ✅ 准备演示
- ✅ 规划明天任务

**重要**: 
- 每工作2小时休息15分钟
- 周末至少休息1天
- 保持运动和睡眠

---

## 成功标志

### Week 2 (Day 14)
- ✅ 能展示完整的端到端流程
- ✅ 至少2个真实Skill运行
- ✅ 所有操作有日志记录

### Week 4 (Day 28)
- ✅ 3条SOP稳定运行
- ✅ 监控看板可用
- ✅ 系统部署到测试环境

### Week 6 (Day 42)
- ✅ MVP功能完整
- ✅ 测试账号接入
- ✅ 多轮对话支持

### Week 7 (Day 45)
- ✅ **通过验收！🎉**

---

**你能做到的！一天一步，稳扎稳打！💪**
